{"version":3,"file":"IndexController.js","sourceRoot":"","sources":["../../../src/controllers/pages/IndexController.ts"],"names":[],"mappings":";;;;AAAA,yCAA2E;AAC3E,2CAAsD;AACtD,yCAAqC;AAIrC,IAAa,SAAS,GAAtB,MAAa,SAAS;IAEpB,OAAO,CAAoB;IAK3B,GAAG,CAAoC,QAAgB,EAAwB,IAAY;QACzF,MAAM,OAAO,GAAG,GAAG,QAAQ,IAAI,MAAM,MAAM,IAAI,EAAE,CAAC;QAElD,OAAO;YACL,QAAQ,EAAE,OAAO;YACjB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC9B,OAAO;oBACL,GAAG,EAAE,OAAO,GAAG,IAAI,CAAC,IAAI;oBACxB,GAAG,IAAI;iBACR,CAAC;YACJ,CAAC,CAAC;SACH,CAAC;IACJ,CAAC;CACF,CAAA;AAlBC;IADC,iBAAQ,CAAC,SAAS,CAAC;;0CACO;AAK3B;IAHC,YAAG,CAAC,GAAG,CAAC;IACR,aAAI,CAAC,WAAW,CAAC;IACjB,CAAC,gBAAO,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;IAC3C,mBAAA,qBAAY,CAAC,mBAAmB,CAAC,CAAA;IAAoB,mBAAA,qBAAY,CAAC,MAAM,CAAC,CAAA;;;;oCAY7E;AAnBU,SAAS;IAFrB,gBAAM,EAAE;IACR,mBAAU,CAAC,GAAG,CAAC;GACH,SAAS,CAoBrB;AApBY,8BAAS","sourcesContent":["import {Constant, Controller, Get, HeaderParams, View} from \"@tsed/common\";\nimport {Hidden, SwaggerSettings} from \"@tsed/swagger\";\nimport {Returns} from \"@tsed/schema\";\n\n@Hidden()\n@Controller(\"/\")\nexport class IndexCtrl {\n  @Constant(\"swagger\")\n  swagger: SwaggerSettings[];\n\n  @Get(\"/\")\n  @View(\"index.ejs\")\n  @(Returns(200, String).ContentType(\"text/html\"))\n  get(@HeaderParams(\"x-forwarded-proto\") protocol: string, @HeaderParams(\"host\") host: string) {\n    const hostUrl = `${protocol || \"http\"}://${host}`;\n\n    return {\n      BASE_URL: hostUrl,\n      docs: this.swagger.map((conf) => {\n        return {\n          url: hostUrl + conf.path,\n          ...conf\n        };\n      })\n    };\n  }\n}\n"]}